# AI-Powered Infrastructure DSL Pipeline

This project leverages large language models (LLMs) from [OpenAI](https://openai.com) to translate natural language prompts into infrastructure-as-code with Terraform.

- Explore **OpenAI GPT models**: [OpenAI Models](https://platform.openai.com/docs/models)

---

![Terraform](https://img.shields.io/badge/Terraform-Infrastructure-blue)
![Python](https://img.shields.io/badge/Python-3.10+-yellow)
![GitHub Actions](https://img.shields.io/badge/GitHub%20Actions-CI/CD-green)

---

## üöÄ Project Overview

This project is a **production-grade AI-powered infrastructure pipeline** that translates natural language infrastructure requests into fully functional Terraform code, orchestrated by modular AI agents built with CrewAI. It enables developers and cloud engineers to provision infrastructure simply by describing their needs in plain English.

---

## ‚ú® Features

- Natural Language Parsing using GPT-4 (via LangChain)
- DSL Planning & Tagging for compliance and defaults
- Terraform HCL generation with Jinja2 templating
- Modular reusable Terraform modules (`vpc`, `ec2`, `rds`, `s3`, `alb`)
- Secret management placeholder for Vault/AWS KMS integration
- Policy validation using OPA (Open Policy Agent) rules
- Automated Terraform lifecycle (`init`, `plan`, `apply`) via Python subprocess
- Unit and integration testing for key pipeline components
- CI/CD workflow compatibility (GitHub Actions recommended)
- Easily extensible architecture for new cloud providers or policies

---

## ü§ñ CrewAI Agent Roles

| Agent Name         | Responsibility                                    |
|--------------------|--------------------------------------------------|
| **NLParserAgent**  | Parses natural language prompts into structured JSON DSL. |
| **DSLPlannerAgent** | Adds defaults, tags, and validates the DSL structure. |
| **HCLGeneratorAgent** | Generates Terraform HCL files from the DSL using templates. |
| **SecretAgent**     | Injects secrets securely (stub for Vault/KMS integration). |
| **PolicyValidatorAgent** | Runs policy checks and compliance validations using OPA. |
| **ExecutionAgent**  | Runs Terraform CLI commands to deploy infrastructure. |

---

## üìÇ Autogenerated Files & Folders

| Path                | Description                            |
|---------------------|--------------------------------------|
| `terraform/`        | Generated Terraform `.tf` files (main.tf, variables.tf, outputs.tf) representing the infrastructure described by the DSL. |
| `docs/`             | Auto-generated Terraform documentation (via tools like terraform-docs) for the generated infrastructure. |
| `terraform/main.tf` | Main Terraform configuration generated dynamically from Jinja2 templates based on DSL. |
| `terraform/variables.tf` | Variables file extracted from the DSL for parameterization. |
| `terraform/outputs.tf` | Outputs such as resource IDs (e.g., VPC ID, EC2 instance ID). |

---

## ‚öôÔ∏è How to Run

### Prerequisites

- Python 3.10+
- Terraform CLI installed and configured
- AWS CLI configured with appropriate credentials (if deploying to AWS)
- Install Python dependencies:

```bash
pip install -r requirements.txt
